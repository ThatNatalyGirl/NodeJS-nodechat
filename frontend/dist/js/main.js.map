{"version":3,"sources":["main.js"],"names":["console","log","showMessagesOnDOM","messages","messagesUL","document","querySelector","innerHTML","forEach","message","newMessage","createElement","innerText","text","appendChild","sendMessage","field","value","axios","post","then","response","data","catch","error","addEventListener"],"mappings":";;AAAAA,QAAQC,GAAR;;AAEA;;;AAGA,IAAIC,oBAAoB,SAApBA,iBAAoB,CAASC,QAAT,EAAkB;AACzC,KAAIC,aAAaC,SAASC,aAAT,CAAuB,aAAvB,CAAjB;;AAEAF,YAAWG,SAAX,GAAuB,EAAvB;AACA;AACA;AACA;;AAEAP,SAAQC,GAAR,CAAY,UAAZ,EAAwBE,QAAxB;AACAA,UAASK,OAAT,CAAiB,UAASC,OAAT,EAAiB;AACjC,MAAIC,aAAaL,SAASM,aAAT,CAAuB,IAAvB,CAAjB;AACAD,aAAWE,SAAX,GAAuBH,QAAQI,IAA/B;AACAT,aAAWU,WAAX,CAAuBJ,UAAvB;AACA,EAJD;AAKA,CAdD;;AAgBA,IAAIK,cAAc,SAAdA,WAAc,GAAU;AAC3B,KAAIC,QAAQX,SAASC,aAAT,CAAuB,2BAAvB,CAAZ;AACA,KAAIU,MAAMC,KAAV,EAAgB;AACf;AACAC,QAAMC,IAAN,CAAW,mCAAX,EAAgD;AAC/CN,SAAMG,MAAMC;AADmC,GAAhD,EAGCG,IAHD,CAGM,UAAUC,QAAV,EAAoB;AACzBrB,WAAQC,GAAR,CAAY,KAAZ;AACAe,SAAMC,KAAN,GAAc,EAAd;AACA;AACAjB,WAAQC,GAAR,CAAY,kBAAZ,EAAgCoB,QAAhC;AACAnB,qBAAkBmB,SAASC,IAA3B;AACA,GATD,EAUCC,KAVD,CAUO,UAAUC,KAAV,EAAiB;AACvBxB,WAAQC,GAAR,CAAYuB,KAAZ;AACA,GAZD;AAaA;AACD,CAlBD;;AAoBAnB,SAASC,aAAT,CAAuB,aAAvB,EAAsCmB,gBAAtC,CAAuD,OAAvD,EAAgEV,WAAhE","file":"main.js","sourcesContent":["console.log(`Let's Message!`);\n\n//user types, presses send, get message from field send message to server, get the messages list from the server  and the messages appears on the page\n\n\nlet showMessagesOnDOM = function(messages){\n\tlet messagesUL = document.querySelector('ul.messages')\n\n\tmessagesUL.innerHTML = '';\n\t// while(messagesUL.children.length){\n\t// \tmessagesUL.removeChild(messagesUL.children[0])\n\t// }]\\\n\n\tconsole.log(\"messages\", messages)\n\tmessages.forEach(function(message){\n\t\tlet newMessage = document.createElement('li')\n\t\tnewMessage.innerText = message.text\n\t\tmessagesUL.appendChild(newMessage)\n\t})\n}\n\nlet sendMessage = function(){\n\tlet field = document.querySelector('input[name=\"new-message\"]');\n\tif (field.value){\n\t\t// console.log(\"send to server\", field.value)\n\t\taxios.post('http://172.31.16.162:1337/message', {\n\t\t\ttext: field.value,\n\t\t})\n\t\t.then(function (response) {\n\t\t\tconsole.log(\"yay\");\n\t\t\tfield.value = '';\n\t\t\t//clears out field and only works on successful submission\n\t\t\tconsole.log(\"server responded\", response)\n\t\t\tshowMessagesOnDOM(response.data)\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n}\n\ndocument.querySelector(\"button.send\").addEventListener('click', sendMessage);\n"]}